# 更新日志

## [v1.0.4] - 2024-03-31

### 新增
- 新增系统设置功能
  - 支持配置文本分析的分片大小（1000-5000字符）
  - 添加设置持久化存储
  - 优化分析性能和内存使用

### 优化
- 优化布局结构
  - 完善 DefaultLayout.vue 的 flex 布局属性
  - 优化 ArticleAnalysis.vue 的高度自适应
  - 改进 WorkAnalysis.vue 的布局传递链
  - 统一各组件的 flex 布局属性
  - 添加 min-height: 0 防止内容溢出

### 改进
- 改进数据同步机制
  - 优化 MySQL 和 Neo4j 数据同步逻辑
  - 添加作品数据自动同步功能
  - 优化跨数据库的数据一致性
- 优化文本分析
  - 支持大文本分片处理
  - 添加分析进度提示
  - 优化内存使用效率

### 修复
- 修复页面高度固定的问题
- 修复内容区域自适应问题
- 优化布局结构的实现方式
- 提高布局的可维护性

## [v1.0.3] - 2024-03-21

### 重构
- 优化项目目录结构，将前后端代码分离
- 重构后端代码组织，将知识图谱相关代码移至 backend 目录
- 重构前端代码组织，将 Vue 组件和视图移至 frontend 目录
- 优化 Docker 相关配置文件，移至 docker 目录

### 新增
- 添加 Wenxin API 服务集成
- 新增测试用例，包括 API 测试和 Wenxin 服务测试
- 新增清理图谱数据的脚本工具

### 改进
- 优化项目依赖管理
- 改进代码组织结构，提高可维护性
- 优化开发环境配置

### 修复
- 修复文件路径引用问题
- 修复组件导入路径问题

## [v1.0.2] - 2024-03-20

### 新增
- 添加人物关系图谱功能
- 集成讯飞星火大模型 API
- 添加文章分析功能
- 添加事件时间线功能

### 改进
- 优化前端界面设计
- 改进数据可视化效果
- 优化用户交互体验

### 修复
- 修复数据加载性能问题
- 修复图谱展示问题

## [v1.0.1] - 2024-03-19

### 新增
- 添加基础项目结构
- 实现用户认证系统
- 添加数据库模型

### 改进
- 优化项目配置
- 改进代码结构

### 修复
- 修复初始设置问题

### 修复
- 修复K8s环境配置问题
  - 修复后端服务连接Neo4j的配置问题
  - 添加IS_K8S环境变量支持
  - 优化k8s服务发现配置
  - 修复Neo4j连接地址配置

### 修复
- 修复作品列表显示问题
  - 修改作品列表下拉框显示逻辑，使用作品名称替代ID
  - 优化前端显示格式，添加作品名称和ID的组合显示
  - 统一后端API返回数据格式

### 修复
- 修复Docker环境配置问题
  - 修复后端服务连接Neo4j的配置问题
  - 添加IS_DOCKER环境变量支持
  - 优化容器网络连接配置

### 新功能
- 添加系统设置功能
  - 支持配置文本分析的分片大小
  - 添加设置持久化存储
  - 优化分析性能和内存使用

### 改进
- 优化数据展示
  - 添加作品名称的display_name字段，格式为"作品名称 (ID)"
  - 统一前后端数据交互格式
  - 提升用户体验，使作品选择更直观
- 优化文本分析
  - 支持大文本分片处理
  - 添加分析进度提示
  - 优化内存使用效率

### 技术细节
- 修改 `WorkAnalysis.vue` 组件中的作品列表选择逻辑
- 更新后端 `article_list` API 返回格式
- 优化前端数据处理逻辑
- 添加 localStorage 配置存储
- 实现文本分片分析功能
- 优化多环境配置支持（本地、Docker、K8s） 